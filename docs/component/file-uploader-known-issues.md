# FileUploader コンポーネント - 残りの作業

このドキュメントでは、FileUploaderコンポーネント実装の残りの作業・改善予定をまとめています。

## 目次

1. [優先度：高](#優先度高)
   - [1. アクセシビリティの詳細が不十分](#1-アクセシビリティの詳細が不十分)
2. [優先度：中](#優先度中)
   - [2. Storybook での検証が必要](#2-storybook-での検証が必要)
   - [3. テストコードの作成](#3-テストコードの作成)

---

## 優先度：高

### 1. アクセシビリティの詳細が不十分

**現在の状態:**

- 仕様書のアクセシビリティセクションはButtonとIconButtonの継承のみ記載
- dropzone variantでのアクセシビリティが詳細ではない

**改善案:**

- Dropzone variantでのキーボード操作（Tab、Enter、Space）の詳細を記載
- ARIA属性（`role`、`aria-label`、`aria-describedby`等）の使用を明記
- スクリーンリーダー対応の詳細（ファイル名アナウンス、エラーメッセージ等）を追加

---

## 優先度：中

### 2. Storybook での検証が必要

**現在の状態:**

- Storybookでは基本的なバリエーションのみカバー
- 詳細な状態の組み合わせ（エラー状態+ファイル選択済みなど）が検証できない

**改善案:**

- より多くのStory を追加し、すべての状態の組み合わせをカバーする
- ビジュアルリグレッションテストの導入を検討

---

### 3. テストコードの作成

**現在の状態:**

- テストコード（`.test.tsx`）が未作成
- ユニットテストによる検証ができていない

**改善案:**

- Vitest/Jestを使用した基本的なユニットテスト作成
- 以下をテストケースでカバーする：
  - ファイル選択時に`onSelect`が正しく呼ばれることを確認
  - ファイルサイズバリデーション（超過時に`onError`が呼ばれる）
  - ファイル形式バリデーション（非対応形式時に`onError`が呼ばれる）
  - 複数エラー検出時に配列で返されることを確認
  - `reset`メソッドでリセットされることを確認
  - button variant と dropzone variant の各状態テスト
  - `isDisabled`時の動作確認
- React Testing Library による UI テスト
- アクセシビリティテスト（`@testing-library/jest-dom`）

# Loading コンポーネント仕様書

## 目次

1. [概要](#概要)
2. [インポート](#インポート)
3. [基本的な使用方法](#基本的な使用方法)
4. [Props](#props)
   - [必須プロパティ](#必須プロパティ)
   - [オプションプロパティ](#オプションプロパティ)
5. [サイズバリエーション](#サイズバリエーション)
6. [レイアウトと配置](#レイアウトと配置)
7. [アクセシビリティ](#アクセシビリティ)
8. [技術的な詳細](#技術的な詳細)
9. [更新履歴](#更新履歴)

---

## 概要

Loadingコンポーネントは、処理待機中であることをユーザーに示す不確定型のプログレスインジケーターです。画面全体のオーバーレイから局所的なスピナー表示まで、同一のAPIで利用できます。アニメーションは円形パスを使った単色表示で、現在色（`currentColor`）を継承して描画されます。

## インポート

```typescript
import { Loading } from '@zenkigen-inc/component-ui';
```

## 基本的な使用方法

```tsx
export function PageLoading() {
  return (
    <div className="relative min-h-[320px] text-interactive01">
      <Loading size="large" position="absolute" height="320px" />
    </div>
  );
}
```

## Props

### 必須プロパティ

なし（すべてオプション）

### オプションプロパティ

| プロパティ | 型                                  | デフォルト値 | 説明                                                                 |
| ---------- | ----------------------------------- | ------------ | -------------------------------------------------------------------- |
| `size`     | `'small' \| 'medium' \| 'large'`    | `'medium'`   | スピナーのサイズ。`small:16px` / `medium:32px` / `large:64px` を表示 |
| `position` | `'fixed' \| 'absolute' \| 'static'` | `'fixed'`    | ラッパー要素に適用する Tailwind の position クラスを切り替えます     |
| `height`   | `string`                            | `'100%'`     | ラッパー要素の高さ。オーバーレイの縦サイズを CSS 文字列で指定        |

## サイズバリエーション

### small

- SVG: 16x16 / `h-4 w-4`
- `animate-circular-small-move` により素早く回転
- テーブルセルなど最小領域向け

### medium（デフォルト）

- SVG: 32x32 / `h-8 w-8`
- 汎用的な待機表示。ボタンやフォーム全体の読み込みに最適

### large

- SVG: 64x64 / `h-16 w-16`
- 画面全体やカード全体の読み込みを明示したい場合に利用
- アニメーションはゆっくり目で可動半径も大きい

## レイアウトと配置

- ラッパー要素は `left-0 top-0 z-20 flex w-full items-center justify-center` を常に付与します。
- `position="fixed"`（デフォルト）はビューポート全体を覆うオーバーレイ向けです。バックドロップを追加したい場合は親要素側で背景色を設定してください。
- `position="absolute"` は親要素を基準とした局所的オーバーレイに利用できます。親要素には `relative` を忘れずに指定してください。
- `position="static"` はコンテンツフロー内に埋め込む用途です。`height` をコンテンツの高さに合わせて設定すると縦中央揃えになります。
- `height` は inline-style で指定されるため、`'100vh'` や `'240px'` のような CSS 文字列を渡します。

## アクセシビリティ

- Loading自体はテキストやARIA属性を持たないため、周囲に `role="status"` もしくは `aria-live="polite"` を設定し、スクリーンリーダー向けに進行中である旨を別途伝達してください。
- 長時間操作がブロックされる場合は、キャンセル手段や状態メッセージを併記します。
- 色のみで状態を伝えないようにし、必要に応じてラベルや説明テキストを併設します。

## 技術的な詳細

- `clsx` を利用し、positionクラスと固定クラスを組み合わせています。
- SVGの `<circle>` は `currentColor` で描画されるため、親の `color` に追随します。
- 回転アニメーションは Tailwind 拡張クラス `animate-circular-*-move` を利用します。CSSトークンは `component-config` パッケージにて管理されています。
- `height` は inline-style で適用しているため、レスポンシブにしたい場合は親要素側のCSSで制御してください。

## 更新履歴

| 日付                 | 内容     | 担当者 |
| -------------------- | -------- | ------ |
| 2025-12-03 00:02 UTC | 新規作成 | -      |

# コンポーネント仕様書フォーマットガイド

## 概要

このドキュメントは、zenkigen-componentプロジェクトにおけるコンポーネント仕様書の標準フォーマットとガイドラインを定義しています。

## テンプレートファイル

- **テンプレート**: [`docs/component-specification-template.md`](./component-specification-template.md)
- **参考例**: [`docs/component/text-area-specification.md`](./component/text-area-specification.md)

## フォーマット構成

### 必須セクション

すべてのコンポーネント仕様書で必ず含める必要があるセクション：

1. **タイトル** - `# [ComponentName] コンポーネント仕様書`
2. **目次** - 階層化されたアンカーリンク付き目次
3. **概要** - コンポーネントの目的と主要機能
4. **インポート** - インポート文の例
5. **基本的な使用方法** - 最小限の使用例
6. **Props** - プロパティの詳細仕様
7. **使用例** - 実際の使用パターン
8. **アクセシビリティ** - アクセシビリティ対応状況
9. **スタイルのカスタマイズ** - Tailwind設定への言及
10. **更新履歴** - 変更履歴のテーブル

### オプションセクション

コンポーネントの特性に応じて含めるセクション：

- **状態とスタイル** - 複数の状態やスタイルがある場合
- **技術的な詳細** - 複雑な実装や型がある場合
- **注意事項** - 重要な制約がある場合

## セクション別ガイドライン

### 1. タイトルと目次

```markdown
# ButtonGroup コンポーネント仕様書

## 目次

[階層化された目次...]
```

**ルール**:

- コンポーネント名はPascalCase
- 目次は必ず番号付きリスト
- アンカーリンクは小文字・ハイフン区切り

### 2. 概要

```markdown
## 概要

ButtonGroupコンポーネントは、複数のボタンをグループ化して表示するUIコンポーネントです。
ラジオボタンのような単一選択やツールバーのような機能を提供します。
```

**ルール**:

- 1-2文で簡潔に
- 目的と主要機能を明記
- 専門用語は避ける

### 3. Props仕様

#### 必須プロパティ

```markdown
| プロパティ | 型          | 説明               |
| ---------- | ----------- | ------------------ |
| `children` | `ReactNode` | 表示するボタン要素 |
```

#### オプションプロパティ

```markdown
| プロパティ | 型                               | デフォルト値 | 説明       |
| ---------- | -------------------------------- | ------------ | ---------- |
| `size`     | `'small' \| 'medium' \| 'large'` | `'medium'`   | サイズ指定 |
```

**ルール**:

- 型はバッククォートで囲む
- デフォルト値は必ず記載
- 説明は簡潔に

#### 排他的プロパティグループ

複雑な型制約がある場合のみ記載：

```typescript
// 例：モード切り替えがある場合
type Props = {
  // 共通props...
} & ({ mode: 'single'; value: string } | { mode: 'multiple'; value: string[] });
```

#### 特殊機能の詳細

コンポーネント固有の複雑な機能（TextAreaの高さ制御のような）がある場合のみ記載。

### 4. 状態とスタイル

#### サイズバリエーション

サイズが複数ある場合のみ記載：

```markdown
#### Medium（デフォルト）

- パディング: `px-3 py-2`
- タイポグラフィ: `typography-body14regular`
```

#### 状態に応じたスタイル

最低限、通常・無効状態は記載：

```markdown
#### 通常状態

- ボーダー: `border-uiBorder02`

#### 無効状態（disabled: true）

- 背景: `bg-disabled02`
- ボーダー: `border-disabled01`
```

### 5. 使用例

#### 基本的な使用例

最小限の実装例：

```typescript
<ComponentName
  prop1="value"
  onChange={handleChange}
/>
```

#### バリエーション例

実際に使用されるパターン：

```typescript
// サイズ指定
<ComponentName size="large" />

// 無効状態
<ComponentName disabled />
```

### 6. アクセシビリティ

標準的なアクセシビリティ項目：

```markdown
- `forwardRef`を使用してDOM要素への参照をサポート
- 標準的な`<button>`要素のすべてのアクセシビリティ機能を継承
- `disabled`属性が適切に設定される
- フォーカス管理が適切に実装されている
```

## 記述ルール

### 言語・表現

- **日本語**: すべて日本語で記述
- **敬語**: 「である調」で統一
- **専門用語**: 必要最小限に留める

### コードブロック

````markdown
\```typescript
// TypeScriptコードは必ずtypescriptを指定
const example = "value";
\```
````

### プロパティ記述

- **プロパティ名**: バッククォートで囲む（`propName`）
- **型**: バッククォートで囲む（`string | number`）
- **真偽値**: `true`/`false`で統一

### テーブル

```markdown
| プロパティ | 型       | デフォルト値 | 説明               |
| ---------- | -------- | ------------ | ------------------ |
| `example`  | `string` | `'default'`  | 例となるプロパティ |
```

**ルール**:

- ヘッダー行の後に区切り行を必ず入れる
- セル内の改行は避ける
- 長い説明は後述として別途記載

## ファイル管理

### ファイル配置

```
docs/
├── component-specification-template.md        # テンプレート
├── component-specification-format-guide.md   # このガイド
└── component/
    ├── button-specification.md               # 個別仕様書
    ├── text-area-specification.md           # 個別仕様書
    └── ...
```

### ファイル命名

- **形式**: `[component-name]-specification.md`
- **コンポーネント名**: kebab-case
- **例**: `segmented-control-specification.md`

### 更新履歴

```markdown
| 日付       | 内容      | 担当者 |
| ---------- | --------- | ------ |
| 2024-12-19 | 新規作成  | -      |
| 2024-12-20 | Props追加 | -      |
```

**ルール**:

- 日付は`YYYY-MM-DD`形式
- 内容は簡潔に
- 担当者は必要に応じて記載

## チェックリスト

新しい仕様書作成時の確認項目：

### 必須項目

- [ ] タイトル（ComponentName形式）
- [ ] 完全な目次（アンカーリンク付き）
- [ ] 概要（1-2文で目的と機能）
- [ ] インポート文
- [ ] 基本的な使用方法
- [ ] Props（必須・オプション・継承）
- [ ] 使用例（最低2パターン）
- [ ] アクセシビリティ
- [ ] スタイルのカスタマイズ
- [ ] 更新履歴

### 品質確認

- [ ] コードサンプルがすべて動作する
- [ ] 型定義が正確
- [ ] リンクが正常に動作する
- [ ] 誤字脱字がない
- [ ] 一貫した用語使用

### コンポーネント特性

- [ ] 特殊機能がある場合は詳細セクション追加
- [ ] 複雑な型制約がある場合は排他的プロパティグループ記載
- [ ] サイズバリエーションがある場合は状態とスタイル記載
- [ ] 重要な制約がある場合は注意事項記載

## メンテナンス

### 定期更新

- コンポーネント更新時に仕様書も同時更新
- 新機能追加時は使用例も追加
- 破壊的変更時は注意事項に記載

### 品質保証

- 他の開発者によるレビュー実施
- 実際のコード実装との整合性確認
- ユーザビリティテスト結果の反映

## 更新履歴

| 日付       | 内容     | 担当者 |
| ---------- | -------- | ------ |
| YYYY-MM-DD | 新規作成 | -      |

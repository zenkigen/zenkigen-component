import { Canvas, Meta, ArgTypes, Story, Controls, Source } from '@storybook/addon-docs/blocks';
import { Markdown } from '@storybook/addon-docs/blocks';
import CheckboxStories, { Component } from './checkbox.stories';
import spec from '../../../../docs/component/checkbox-specification.md?raw';

<Meta title="Checkbox" of={CheckboxStories} />

# Checkbox

<details>
  <summary className="typography-label14regular text-text02">詳細仕様書</summary>
  <div style={{ marginTop: '20px', padding: '12px 36px 36px 36px', backgroundColor: '#f9fafb', borderRadius: '4px' }}>
    <p>※ 目次のアンカーリンクは使用できません。</p>
    <Markdown>{spec}</Markdown>
  </div>
</details>

<Canvas>
  <Story of={Component} />
</Canvas>

<Controls of={Component} />

### Code Example

```typescript
import { useState } from 'react';
import { Checkbox } from '@zenkigen-inc/component-ui';

const Example = () => {
  const [checked, setChecked] = useState(false);

  return (
    <Checkbox
      id="agreement"
      label="利用規約に同意する"
      isChecked={checked}
      onChange={() => setChecked((prev) => !prev)}
    />
  );
};
```

## 概要

複数の選択肢の中から複数の項目を選ぶことができるコンポーネントです。

## 設計の原則（Do）

### 確実な操作のために、クリックできる部分を十分に大きくします

クリック/タップが反応される部分には、ボタンとラベルの両方を入れてください。
フィッツの法則によると、ターゲットの大きさはとても重要な役割を果たします。チェックボックスやラジオボタンは一般的に小さく、特に携帯ではクリックやタップするのに苦労することがあるのでそういったことは避けましょう。
![設計の原則 その1](/storybook/images/checkbox_01.jpg)

### 選択肢は縦に並べるのが基本

一般的に、選択肢は上から下へ視線が移動するため、縦並びが最も認識しやすくなります。各項目を左揃えにすることで、ユーザーは素早くスキャンして目的の項目を見つけられます。ただし、レイアウトの制約上、横幅に十分なスペースがある場合は、2〜3項目程度の短い選択肢を横に並べることも許容します。

### 選択肢をグループ化できる場合は、不確定状態(水平線マーク)のチェックボックスを使ってグループ全体を表すことができます

一部のサブ項目をユーザーが選択する場合は、チェックボックスの不確定（Indeterminate）の状態を使います。
![設計の原則 その2](/storybook/images/checkbox_02.jpg)

## 推奨しないこと（Don't）

### 否定系のラベルを書かない

選択肢の文言はできるだけ肯定文にしましょう。
特にRadioButtonやCheckBoxのようにON/OFFを切り替える選択コントロールでは、ラベルが否定形であると選択行為が「否定を肯定する」という意味になり、わかりにくくなります。

### 「ON/OFF」といった2択の切り替え入力に使用しない

「ON/OFF」「有効/無効」「はい/いいえ」といった2択の切り替え入力には原則として使用しないでください。
2択の切り替えの場合はToggleを使用してください。

### 選択することでアクションを即時実行しない

チェックボックスの選択/選択解除は、あくまで「状態の変更」に留めるべきです。チェックを入れた瞬間に画面遷移やデータの送信など、アクションが即時実行されるとユーザーは予期せぬ結果に混乱します。アクションは、ユーザーが全ての選択を終えた後、「送信」「適用」などのボタンによって実行されるべきです。

---
description:
globs:
alwaysApply: true
---

# 基本ルール

- すべてのやり取りは日本語で行うこと

# 禁止事項

- git 操作の一部（git commit, git push）

# MCP Tools ついて

- MCP Tools が設定済み。必要に応じて確認し使用できる。

## Figma Dev Mode MCPサーバー について

- Figma Dev Mode MCPサーバーは、画像やSVGアセットを提供するアセットエンドポイントを提供します。
- 重要: Figma Dev Mode MCP サーバーが画像またはSVGのローカルホストソースを返す場合、その画像またはSVGソースを直接使用してください。
- 重要: 新しいアイコンパッケージをインポート/追加しないでください。すべてのアセットはFigmaペイロードに含まれている必要があります。
- 重要: ローカルホストソースが提供されている場合、プレースホルダーを使用または作成しないでください。

# Storybook について

- Storybook が利用できる
- 利用の際は自ら起動は行わずに、起動しているURLを確認すること

# タイムスタンプや日付を扱うときのルール

- 常に UTC または JST など特定のタイムゾーンに統一して日付・時刻を扱うこと。
- ドキュメントの更新履歴や日付を生成する際は、現在時刻を勝手に推測せず、
  必ずシステムが提供する正しい日付/時刻 API（例: `new Date()`）を利用すること。
- 過去の履歴を生成・要約する場合は「仮の日付」や「推測した時間」を書かないこと。
- 「YYYY-MM-DD HH:mm」形式で出力し、表記を統一すること。
- 日付に曖昧さがある場合は「不明」「要確認」と明記し、誤った時間を作らないこと。

# ドキュメント

- ドキュメントが以下にある。実装の参考にすること
  - [プロジェクト概要](./docs/README.md) - ドキュメント全体の概要
  - [プロジェクト構造](./docs/project-structure.md) - パッケージ構成と相互関係
  - [コンポーネント実装パターン](./docs/component-patterns.md) - 設計パターンと実装方針
  - [テーマシステム](./docs/theme-system.md) - テーマとTailwind CSS設定
  - [コーディングガイドライン](./docs/coding_guidelines.md) - 開発時のコーディング標準と規約

## Serena MCP使用ガイドライン

- **複雑なコード解析**や**アーキテクチャ理解**が必要な場面では積極的にSerenaを使用する
- **Serena推奨場面**：
  - コードベース全体の構造理解
  - シンボル間の参照関係調査
  - クラス・関数・変数の使用箇所特定
  - ファイル間の依存関係分析
  - 大規模リファクタリングの影響範囲調査
  - 設計パターンの実装箇所探索
  - バグの原因となる関連コード特定
- **通常ツール推奨場面**：
  - 単純なファイル読み込み・編集
  - 既知のファイル・関数への直接的な変更
  - シンプルな文字列検索・置換
- Serena MCPの機能を活用して効率的で正確なコード分析を心がける
